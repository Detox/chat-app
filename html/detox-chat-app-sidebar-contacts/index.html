<dom-module id="detox-chat-app-sidebar-contacts"><link rel="import" href="style.css" type="css"><template><div hidden="[[_hide_header(contacts_requests, add_contact)]]"><h4>Contacts requests</h4><csw-group vertical><template is="dom-repeat" items="{{contacts_requests}}"><div class="contact-item" on-click="_accept_contact_request" unconfirmed>[[item.secret_name]]: [[item.name]]</div></template></csw-group></div><div hidden="[[contacts.length]]"><csw-button icon="plus"><button type="button" on-click="_add_contact">Add new contact</button></csw-button></div><div hidden="[[_hide_header(contacts, add_contact)]]"><h4><div>Contacts</div><csw-button icon="plus" tooltip="Add new contact"><button type="button" on-click="_add_contact"></button></csw-button></h4></div><csw-form class="add-contact" hidden="[[!add_contact]]"><form><label>Contact ID:</label><csw-textarea><textarea rows="4" value="{{new_contact_id}}"></textarea></csw-textarea><label>Contact nickname (optional):</label><csw-textarea><textarea rows="3" value="{{new_contact_name}}"></textarea></csw-textarea><csw-button primary><button type="button" on-click="_add_contact_confirm">Save contact</button></csw-button><csw-button><button type="button" on-click="_add_contact_cancel">Cancel</button></csw-button></form></csw-form><div hidden="[[!contacts.length]]"><csw-group vertical><template is="dom-repeat" items="{{contacts}}"><div class="contact-item" on-click="_set_active_contact" selected$="[[_selected(item, ui_active_contact)]]" unconfirmed$="[[_unconfirmed(item)]]" online$="[[_online(item, online_contacts)]]" unread$="[[_unread(item, ui_active_contact, contacts_with_unread_messages)]]" pending$="[[_pending(item, contacts_with_pending_messages)]]"><div class="nickname">[[item.nickname]]</div><csw-icon icon="edit" on-click="_rename_contact" tooltip="Rename contact"></csw-icon><csw-icon icon="trash" on-click="_del_contact" tooltip="Delete contact"></csw-icon></div></template></csw-group></div></template><script src="script.js"></script></dom-module>