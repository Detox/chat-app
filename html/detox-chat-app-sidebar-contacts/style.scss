/**
 * @package Detox chat app
 * @author  Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @license 0BSD
 */
:host {
	display : block;
}

h4 {
	display         : flex;
	justify-content : space-between;
	align-items     : center;

	&:first-of-type {
		margin-top : 0;
	}

	button {
		height : 2em;
		width  : 2em;
	}
}

#contacts-requests {
	margin-bottom : var(--block-padding);
}

.add-contact {
	margin-bottom : var(--block-padding);

	csw-textarea {
		display : block;

		textarea {
			height : auto;
			resize : none;
		}
	}
}

csw-group {
	display : block;

	.contact-item {
		align-items           : center;
		background-color      : var(--background-color-interactive);
		cursor                : pointer;
		display               : flex;
		padding               : var(--block-padding);
		width                 : calc(100% - var(--block-padding));

		--corner-bottom-left  : 45deg;
		--corner-bottom-right : 315deg;
		--corner-end          : 6%;
		--corner-start        : 2%;
		--corner-top-left     : 135deg;
		--corner-top-right    : 225deg;
		--online-color        : rgba(0, 255, 0, 0.5);
		--online-corner       : linear-gradient(var(--corner-top-left), var(--online-color) var(--corner-start), transparent var(--corner-end));
		--unread-color        : rgba(255, 255, 0, 0.5);
		--unread-corner       : linear-gradient(var(--corner-top-right), var(--unread-color) var(--corner-start), transparent var(--corner-end));
		--pending-corner      : linear-gradient(var(--corner-bottom-right), var(--unread-color) var(--corner-start), transparent var(--corner-end));
		--unconfirmed-color   : rgb(128, 128, 128, 0.5);
		--unconfirmed-corner  : linear-gradient(var(--corner-bottom-left), var(--unconfirmed-color) var(--corner-start), transparent var(--corner-end));

		&:nth-of-type(n+2) {
			border-top : var(--border-base);
		}

		&:hover {
			color            : var(--text-color-base-active);
			background-color : var(--background-color-highlight);

			csw-icon {
				display : inline-block;
			}
		}

		&[selected] {
			background-color : var(--border-color-base);
		}

		&[unconfirmed] {
			background-image : var(--unconfirmed-corner);
		}

		&[unconfirmed][pending] {
			background-image : var(--unconfirmed-corner), var(--pending-corner);
		}

		&[online] {
			background-image : var(--online-corner);
		}

		&[online][unread] {
			background-image : var(--online-corner), var(--unread-corner);
		}

		&[online][pending] {
			background-image : var(--online-corner), var(--pending-corner);
		}

		&[online][unread][pending] {
			background-image : var(--online-corner), var(--unread-corner), var(--pending-corner);
		}

		&[unread] {
			background-image : var(--unread-corner);
		}

		&[unread][pending] {
			background-image : var(--unread-corner), var(--pending-corner);
		}

		&[pending] {
			background-image : var(--pending-corner);
		}

		.nickname {
			flex-grow     : 1;
			overflow      : hidden;
			text-overflow : ellipsis;
			white-space   : nowrap;
		}

		csw-icon {
			color       : var(--text-color-base-disabled);
			display     : none;
			margin-left : calc(var(--block-padding) / 2);

			&:hover {
				color : var(--text-color-active);
			}
		}
	}
}
