/**
 * @package Detox chat app
 * @author  Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @license 0BSD
 */
:host {
	background     : var(--background-dialogs);
	color          : var(--text-color-base);
	display        : flex;
	flex-direction : column;
}

#contact-details {
	height        : var(--form-element-height);
	background    : var(--background-sidebar);
	border-bottom : var(--border-base);
	display       : flex;
	flex-shrink   : 0;
	line-height   : var(--form-element-height);

	csw-button {
		display : none;
	}

	div {
		flex-grow : 1;
		padding   : 0 var(--block-padding);
	}
}

#welcome {
	padding : var(--block-padding);

	h4 {
		margin-top : 0;
	}

	a {
		color : currentColor;
	}
}

#messages-list {
	display        : flex;
	flex-direction : column;
	flex-grow      : 1;
	overflow-x     : hidden;
	overflow-y     : auto;
	padding        : var(--block-padding);

	&[hidden] {
		display : none;
	}

	.message {
		display        : flex;
		flex-shrink    : 0;
		padding-bottom : var(--block-padding);

		&[right] {
			flex-direction : row-reverse;

			.message-content {
				border-radius : var(--block-padding) var(--block-padding) 0 var(--block-padding);
			}

			.message-details {
				text-align : right;
			}
		}

		&[pending] {
			.message-content {
				background-image : var(--dialog-message-pending-corner);
			}
		}

		&:hover .message-details {
			opacity : 1;
		}

		.message-content {
			background    : var(--background-color-highlight);
			border        : var(--border-base);
			border-radius : var(--block-padding) var(--block-padding) var(--block-padding) 0;
			box-sizing    : border-box;
			flex-shrink   : var(--dialog-message-content-width-shrink);
			max-width     : var(--dialog-message-content-width-max);
			padding       : var(--block-padding);
			word-break    : break-word;
		}

		.message-details {
			align-self  : center;
			flex-shrink : calc(100 - var(--dialog-message-content-width-shrink));
			padding     : var(--block-padding) var(--block-padding) var(--block-padding) 0;
			opacity     : 0;
		}
	}
}

#send-form {
	align-items : stretch;
	border-top  : var(--border-base);
	display     : flex;

	&[hidden] {
		display : none;
	}

	csw-textarea {
		flex-grow : 1;

		textarea {
			border     : none;
			height     : auto;
			margin     : 0;
			resize     : none;
			max-height : var(--dialog-send-textarea-max);
			min-height : var(--dialog-send-textarea-min);
		}
	}

	csw-button {
		display : none;

		button {
			height : 100%;
		}
	}
}

// Would be nice to have this value in CSS property, but it is not working:(
@media (max-width : 768px) {
	#contact-details {
		csw-button {
			display : inline-block;
		}
	}

	#send-form {
		csw-button {
			display : inline-block;
		}
	}
}
