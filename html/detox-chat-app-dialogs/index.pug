dom-module(id="detox-chat-app-dialogs")
	link(rel="import" href="style.css" type="css")
	template
		#contact-details(hidden="[[!active_contact]]")
			csw-button(icon="bars"): button(type="button" on-click="_show_sidebar")
			div [[contact.nickname]]
		#messages-list(hidden="[[!active_contact]]")
			template#messages-list-template(is="dom-repeat" items="{{messages}}" mutable-data)
				.message(right$="[[!item.from]]" pending$="[[!item.date_sent]]")
					.message-content [[item.text]]
					.message-details Written: [[_format_date(item.date_written)]], delivered: [[_format_date(item.date_sent)]]
		csw-form: form#send-form(hidden="[[!active_contact]]")
			//- TODO: Hotkeys customization
			csw-textarea(autosize): textarea#textarea(value="{{text_message}}" placeholder="[[_send_placeholder(send_ctrl_enter)]]")
			csw-button: button(type="button" on-click="_send") Send
		#welcome(hidden="[[active_contact]]")
			h4 Welcome to Detox Chat!
			p WARNING: INSECURE UNTIL PROVEN THE OPPOSITE!!!
			p You can add contacts on the left panel using their ID. Once you've added someone, click on the name to start chatting.
			p Share your ID from Profile tab so that other people can find you.
	script(src="script.js")
